# 字符串

## 反转字符串

题号[344. 反转字符串](https://leetcode.cn/problems/reverse-string/)

### 思考

1. 使用双指针，左右调换就行了
2. 小技巧       [s[l],s[r]] = [s[r],s[l]]

```ts
/**
 Do not return anything, modify s in-place instead.
 */
function reverseString(s: string[]): void {
    let l = 0 ,r = s.length-1,tmp:string
    while(l<r){
        [s[l],s[r]] = [s[r],s[l]]
        l++
        r--
    }
};
```

## 反转字符串进阶

题号[541. 反转字符串 II](https://leetcode.cn/problems/reverse-string-ii/)

### 思考

1. 和反转字符串的思路是一样的，但是条件什么的比较复杂
2. 小技巧  i += 2 * k

```ts
function reverseStr(s: string, k: number): string {
    let left: number, right: number;
    let arr: string[] = s.split('');
    let temp: string;
    for (let i = 0, length = arr.length; i < length; i += 2 * k) {
        left = i;
        right = (i + k - 1) >= length ? length - 1 : i + k - 1;
        while (left < right) {
            temp = arr[left];
            arr[left] = arr[right];
            arr[right] = temp;
            left++;
            right--;
        }
    }
    return arr.join('');
};
```

## 剑指Offer 05.替换空格

请实现一个函数，把字符串 s 中的每个空格替换成"%20"。

示例 1： 输入：s = "We are happy."
输出："We%20are%20happy."

### 思考

1. 将后面的数组拓展为空格的两倍
2. 双指针

```ts
function replaceSpace(s: string): string {
    let arr: string[] = s.split('');
    let spaceNum: number = 0;
    let oldLength: number = arr.length;
    for (let i = 0; i < oldLength; i++) {
        if (arr[i] === ' ') {
            spaceNum++;
        }
    }
    arr.length = oldLength + 2 * spaceNum;
    let cur: number = oldLength - 1;
    for (let i = arr.length - 1; i >= 0; i--, cur--) {
        if (arr[cur] !== ' ') {
            arr[i] = arr[cur]
        } else {
            arr[i] = '0';
            arr[--i] = '2';
            arr[--i] = '%';
        }
    }
    return arr.join('');
};
```

## 反转字符串中的单词

题号[151. 反转字符串中的单词](https://leetcode.cn/problems/reverse-words-in-a-string/)

### 思考

1.  这道题目难点在于去掉多余的空格
2. 把问题分解为 
   1. 翻转字符串（双指针解决）
   2. 删除多余空格

```ts
function reverseWords(s: string): string {
    /** Utils **/
    // 删除多余空格, 如'   hello     world   ' => 'hello world'
    function delExtraSpace(arr: string[]): void {
        let left: number = 0,
            right: number = 0,
            length: number = arr.length;
        while (right < length && arr[right] === ' ') {
            right++;
        }
        while (right < length) {
            if (arr[right] === ' ' && arr[right - 1] === ' ') {
                right++;
                continue;
            }
            arr[left++] = arr[right++];
        }
        if (arr[left - 1] === ' ') {
            arr.length = left - 1;
        } else {
            arr.length = left;
        }
    }
    // 翻转字符串，如：'hello' => 'olleh'
    function reverseWords(strArr: string[], start: number, end: number) {
        while (start < end) {
            [strArr[start],strArr[end]]= [strArr[end],strArr[start]]
            start++;
            end--;
        }
    }

    /** Main code **/
    let strArr: string[] = s.split('');
    delExtraSpace(strArr);
    let length: number = strArr.length;
    // 翻转整个字符串
    strArr.reverse()// reverseWords(strArr, 0, length - 1);
    let start: number = 0,
        end: number = 0;
    while (start < length) {
        end = start;
        while (strArr[end] !== ' ' && end < length) {
            end++;
        }
        // 翻转单个单词
        reverseWords(strArr, start, end - 1);
        start = end + 1;
    }
    return strArr.join('');
};
```

